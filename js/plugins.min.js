window.log=function(){log.history=log.history||[];log.history.push(arguments);if(this.console){arguments.callee=arguments.callee.caller;var b=[].slice.call(arguments);"object"===typeof console.log?log.apply.call(console.log,console,b):console.log.apply(console,b)}}; (function(b){function a(){}for(var e="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn".split(","),c;c=e.pop();)b[c]=b[c]||a})(function(){try{return console.log(),window.console}catch(b){return window.console={}}}()); (function(b){function a(a){var c=new Date,d=new Date(a);b.browser.msie&&(d=Date.parse(a.replace(/( \+)/," UTC$1")));a=c-d;return isNaN(a)||0>a?"":2E3>a?"right now":6E4>a?Math.floor(a/1E3)+" seconds ago":12E4>a?"1 minute ago":36E5>a?Math.floor(a/6E4)+" minutes ago":72E5>a?"1 hour ago":864E5>a?Math.floor(a/36E5)+" hours ago":864E5<a&&1728E5>a?"yesterday":31536E6>a?Math.floor(a/864E5)+" days ago":"over a year ago"}function e(b){return b.replace(/\b(((https*\:\/\/)|www\.)[^\"\']+?)(([!?,.\)]+)?(\s|$))/g, function(b,a,c,d,e){return'<a class="twtr-hyperlink" target="_blank" href="'+(c.match(/w/)?"http://":"")+a+'">'+(25<a.length?a.substr(0,24)+"...":a)+"</a>"+e})}function c(b){return b.replace(/\B[@@]([a-zA-Z0-9_]{1,20})/g,function(b,a){return'<a target="_blank" class="twtr-atreply" href="http://twitter.com/intent/user?screen_name='+a+'">@'+a+"</a>"})}function d(b){return b.replace(/\B[@@]([a-zA-Z0-9_]{1,20}\/\w+)/g,function(b,a){return'<a target="_blank" class="twtr-atreply" href="http://twitter.com/'+ a+'">@'+a+"</a>"})}function f(b){return b.replace(/(^|\s+)#(\w+)/gi,function(b,a,c){return a+'<a target="_blank" class="twtr-hashtag" href="http://twitter.com/search?q=%23'+c+'">#'+c+"</a>"})}b.fn.twitter=function(h){var i=b(this);b.getJSON("http://twitter.com/statuses/user_timeline.json?screen_name="+h+"&count=1&callback=?",function(h){b.each(h,function(b,h){i.html('<p class="twitHead"><a href="'+h.user.url+'">@'+h.user.screen_name+'</a></p><p class="twitBody">'+f(c(d(e(h.text))))+'</p><p class="twitFooter">'+ a(h.created_at)+"</p>");i.find("a").hoverFadeColor()})})}})(jQuery);(function(b){b.fn.tabs=function(){var a=b(this).find("div.tabsContent"),e=b(this).find("a.selected"),c=b(this).find("div.selected");b(this).find("a").click(function(){e.removeClass("selected");e=b(this);e.addClass("selected");c.removeClass("selected");c.fadeOut(200);c=a.children("div").eq(e.parent().index());c.addClass("selected");c.delay(200).fadeIn(350);return!1})}})(jQuery); (function(b){b.fn.jflickrfeed=function(a,e){var a=b.extend(!0,{flickrbase:"http://api.flickr.com/services/feeds/",feedapi:"photos_public.gne",limit:20,qstrings:{lang:"en-us",format:"json",jsoncallback:"?"},cleanDescription:!0,useTemplate:!0,itemTemplate:"",itemCallback:function(){}},a),c=a.flickrbase+a.feedapi+"?",d=!0,f;for(f in a.qstrings)d||(c+="&"),c+=f+"="+a.qstrings[f],d=!1;return b(this).each(function(){var d=b(this),f=this;b.getJSON(c,function(c){b.each(c.items,function(b,c){if(b<a.limit){if(a.cleanDescription){var e= /<p>(.*?)<\/p>/g,n=c.description;if(e.test(n)&&(c.description=n.match(e)[2],void 0!=c.description))c.description=c.description.replace("<p>","").replace("</p>","")}c.image_s=c.media.m.replace("_m","_s");c.image_t=c.media.m.replace("_m","_t");c.image_m=c.media.m.replace("_m","_m");c.image=c.media.m.replace("_m","");c.image_b=c.media.m.replace("_m","_b");delete c.media;if(a.useTemplate){var e=a.itemTemplate,o;for(o in c)e=e.replace(RegExp("{{"+o+"}}","g"),c[o]);d.append(e)}a.itemCallback.call(f,c)}}); b.isFunction(e)&&e.call(f,c)})})}})(jQuery); (function(b){var a=function(a,c){var d=b.extend({},b.fn.nivoSlider.defaults,c),f={currentSlide:0,currentImage:"",totalSlides:0,randAnim:"",running:!1,paused:!1,stop:!1},h=b(a);h.data("nivo:vars",f);h.css("position","relative");h.addClass("nivoSlider");var i=h.children();i.each(function(){var a=b(this),g="";a.is("img")||(a.is("a")&&(a.addClass("nivo-imageLink"),g=a),a=a.find("img:first"));var c=a.width();0==c&&(c=a.attr("width"));var d=a.height();0==d&&(d=a.attr("height"));c>h.width()&&h.width(c); d>h.height()&&h.height(d);""!=g&&g.css("display","none");a.css("display","none");f.totalSlides++});if(0<d.startSlide){if(d.startSlide>=f.totalSlides)d.startSlide=f.totalSlides-1;f.currentSlide=d.startSlide}f.currentImage=b(i[f.currentSlide]).is("img")?b(i[f.currentSlide]):b(i[f.currentSlide]).find("img:first");b(i[f.currentSlide]).is("a")&&b(i[f.currentSlide]).css("display","block");h.css("background",'url("'+f.currentImage.attr("src")+'") no-repeat');h.append(b('<div class="nivo-caption"><p></p></div>').css({display:"none", opacity:d.captionOpacity}));var r=function(a){var g=b(".nivo-caption",h);if(""!=f.currentImage.attr("title")&&void 0!=f.currentImage.attr("title")){var c=f.currentImage.attr("title");"#"==c.substr(0,1)&&(c=b(c).html());"block"==g.css("display")?b("#nivoHeadline").fadeOut(a.animSpeed,function(){b(this).html(c);b(this).fadeIn(a.animSpeed)}):b("#nivoHeadline").html(c);g.fadeIn(a.animSpeed)}else g.fadeOut(a.animSpeed)};r(d);var k=0;!d.manualAdvance&&1<i.length&&(k=setInterval(function(){g(h,i,d,!1)}, d.pauseTime));d.directionNav&&(h.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+d.prevText+'</a><a class="nivo-nextNav">'+d.nextText+"</a></div>"),d.directionNavHide&&(b(".nivo-directionNav",h).hide(),h.hover(function(){b(".nivo-directionNav",h).show()},function(){b(".nivo-directionNav",h).hide()})),b("a.nivo-prevNav",h).live("click",function(){if(f.running)return!1;clearInterval(k);k="";f.currentSlide-=2;g(h,i,d,"prev")}),b("a.nivo-nextNav",h).live("click",function(){if(f.running)return!1; clearInterval(k);k="";g(h,i,d,"next")}));if(d.controlNav){var m=b('<div class="nivo-controlNav clearfix"></div>');h.append(m);for(var l=0;l<i.length;l++)if(d.controlNavThumbs){var n=i.eq(l);n.is("img")||(n=n.find("img:first"));d.controlNavThumbsFromRel?m.append('<a class="nivo-control" rel="'+l+'"><img src="'+n.attr("rel")+'" alt="" /></a>'):m.append('<a class="nivo-control" rel="'+l+'"><img src="'+n.attr("src").replace(d.controlNavThumbsSearch,d.controlNavThumbsReplace)+'" alt="" /></a>')}else m.append('<a class="nivo-control" rel="'+ l+'">'+(l+1)+"</a>");b(".nivo-controlNav a:eq("+f.currentSlide+")",h).addClass("active");b(".nivo-controlNav a",h).live("click",function(){if(f.running)return!1;if(b(this).hasClass("active"))return!1;clearInterval(k);k="";h.css("background",'url("'+f.currentImage.attr("src")+'") no-repeat');f.currentSlide=b(this).attr("rel")-1;g(h,i,d,"control")})}d.keyboardNav&&b(window).keypress(function(a){if("37"==a.keyCode){if(f.running)return!1;clearInterval(k);k="";f.currentSlide-=2;g(h,i,d,"prev")}if("39"== a.keyCode){if(f.running)return!1;clearInterval(k);k="";g(h,i,d,"next")}});d.pauseOnHover&&h.hover(function(){f.paused=!0;clearInterval(k);k=""},function(){f.paused=!1;""==k&&!d.manualAdvance&&(k=setInterval(function(){g(h,i,d,!1)},d.pauseTime))});h.bind("nivo:animFinished",function(){f.running=!1;b(i).each(function(){b(this).is("a")&&b(this).css("display","none")});b(i[f.currentSlide]).is("a")&&b(i[f.currentSlide]).css("display","block");""==k&&!f.paused&&!d.manualAdvance&&(k=setInterval(function(){g(h, i,d,!1)},d.pauseTime));d.afterChange.call(this)});var o=function(a,g,c){for(var d=0;d<g.slices;d++){var e=Math.round(a.width()/g.slices);d==g.slices-1?a.append(b('<div class="nivo-slice"></div>').css({left:e*d+"px",width:a.width()-e*d+"px",height:"0px",opacity:"0",background:'url("'+c.currentImage.attr("src")+'") no-repeat -'+(e+d*e-e)+"px 0%"})):a.append(b('<div class="nivo-slice"></div>').css({left:e*d+"px",width:e+"px",height:"0px",opacity:"0",background:'url("'+c.currentImage.attr("src")+'") no-repeat -'+ (e+d*e-e)+"px 0%"}))}},s=function(a,g,c){for(var d=Math.round(a.width()/g.boxCols),e=Math.round(a.height()/g.boxRows),j=0;j<g.boxRows;j++)for(var q=0;q<g.boxCols;q++)q==g.boxCols-1?a.append(b('<div class="nivo-box"></div>').css({opacity:0,left:d*q+"px",top:e*j+"px",width:a.width()-d*q+"px",height:e+"px",background:'url("'+c.currentImage.attr("src")+'") no-repeat -'+(d+q*d-d)+"px -"+(e+j*e-e)+"px"})):a.append(b('<div class="nivo-box"></div>').css({opacity:0,left:d*q+"px",top:e*j+"px",width:d+"px", height:e+"px",background:'url("'+c.currentImage.attr("src")+'") no-repeat -'+(d+q*d-d)+"px -"+(e+j*e-e)+"px"}))},g=function(a,g,c,d){var e=a.data("nivo:vars");e&&e.currentSlide==e.totalSlides-1&&c.lastSlide.call(this);if((!e||e.stop)&&!d)return!1;c.beforeChange.call(this);d?("prev"==d&&a.css("background",'url("'+e.currentImage.attr("src")+'") no-repeat'),"next"==d&&a.css("background",'url("'+e.currentImage.attr("src")+'") no-repeat')):a.css("background",'url("'+e.currentImage.attr("src")+'") no-repeat'); e.currentSlide++;if(e.currentSlide==e.totalSlides)e.currentSlide=0,c.slideshowEnd.call(this);if(0>e.currentSlide)e.currentSlide=e.totalSlides-1;e.currentImage=b(g[e.currentSlide]).is("img")?b(g[e.currentSlide]):b(g[e.currentSlide]).find("img:first");c.controlNav&&(b(".nivo-controlNav a",a).removeClass("active"),b(".nivo-controlNav a:eq("+e.currentSlide+")",a).addClass("active"));r(c);b(".nivo-slice",a).remove();b(".nivo-box",a).remove();if("random"==c.effect&&(g="sliceDownRight,sliceDownLeft,sliceUpRight,sliceUpLeft,sliceUpDown,sliceUpDownLeft,fold,fade,boxRandom,boxRain,boxRainReverse,boxRainGrow,boxRainGrowReverse".split(","), e.randAnim=g[Math.floor(Math.random()*(g.length+1))],void 0==e.randAnim))e.randAnim="fade";if(-1!=c.effect.indexOf(",")&&(g=c.effect.split(","),e.randAnim=g[Math.floor(Math.random()*g.length)],void 0==e.randAnim))e.randAnim="fade";e.running=!0;if("sliceDown"==c.effect||"sliceDownRight"==c.effect||"sliceDownRight"==e.randAnim||"sliceDownLeft"==c.effect||"sliceDownLeft"==e.randAnim){o(a,c,e);var j=0,f=0,g=b(".nivo-slice",a);if("sliceDownLeft"==c.effect||"sliceDownLeft"==e.randAnim)g=b(".nivo-slice", a)._reverse();g.each(function(){var g=b(this);g.css({top:"0px"});f==c.slices-1?setTimeout(function(){g.animate({height:"100%",opacity:"1.0"},c.animSpeed,"",function(){a.trigger("nivo:animFinished")})},100+j):setTimeout(function(){g.animate({height:"100%",opacity:"1.0"},c.animSpeed)},100+j);j+=50;f++})}else if("sliceUp"==c.effect||"sliceUpRight"==c.effect||"sliceUpRight"==e.randAnim||"sliceUpLeft"==c.effect||"sliceUpLeft"==e.randAnim){o(a,c,e);f=j=0;g=b(".nivo-slice",a);if("sliceUpLeft"==c.effect|| "sliceUpLeft"==e.randAnim)g=b(".nivo-slice",a)._reverse();g.each(function(){var g=b(this);g.css({bottom:"0px"});f==c.slices-1?setTimeout(function(){g.animate({height:"100%",opacity:"1.0"},c.animSpeed,"",function(){a.trigger("nivo:animFinished")})},100+j):setTimeout(function(){g.animate({height:"100%",opacity:"1.0"},c.animSpeed)},100+j);j+=50;f++})}else if("sliceUpDown"==c.effect||"sliceUpDownRight"==c.effect||"sliceUpDown"==e.randAnim||"sliceUpDownLeft"==c.effect||"sliceUpDownLeft"==e.randAnim){o(a, c,e);var h=f=j=0,g=b(".nivo-slice",a);if("sliceUpDownLeft"==c.effect||"sliceUpDownLeft"==e.randAnim)g=b(".nivo-slice",a)._reverse();g.each(function(){var g=b(this);0==f?(g.css("top","0px"),f++):(g.css("bottom","0px"),f=0);h==c.slices-1?setTimeout(function(){g.animate({height:"100%",opacity:"1.0"},c.animSpeed,"",function(){a.trigger("nivo:animFinished")})},100+j):setTimeout(function(){g.animate({height:"100%",opacity:"1.0"},c.animSpeed)},100+j);j+=50;h++})}else if("fold"==c.effect||"fold"==e.randAnim)o(a, c,e),f=j=0,b(".nivo-slice",a).each(function(){var g=b(this),e=g.width();g.css({top:"0px",height:"100%",width:"0px"});f==c.slices-1?setTimeout(function(){g.animate({width:e,opacity:"1.0"},c.animSpeed,"",function(){a.trigger("nivo:animFinished")})},100+j):setTimeout(function(){g.animate({width:e,opacity:"1.0"},c.animSpeed)},100+j);j+=50;f++});else if("fade"==c.effect||"fade"==e.randAnim){o(a,c,e);var i=b(".nivo-slice:first",a);i.css({height:"100%",width:a.width()+"px"});i.animate({opacity:"1.0"},2* c.animSpeed,"",function(){a.trigger("nivo:animFinished")})}else if("slideInRight"==c.effect||"slideInRight"==e.randAnim)o(a,c,e),i=b(".nivo-slice:first",a),i.css({height:"100%",width:"0px",opacity:"1"}),i.animate({width:a.width()+"px"},2*c.animSpeed,"",function(){a.trigger("nivo:animFinished")});else if("slideInLeft"==c.effect||"slideInLeft"==e.randAnim)o(a,c,e),i=b(".nivo-slice:first",a),i.css({height:"100%",width:"0px",opacity:"1",left:"",right:"0px"}),i.animate({width:a.width()+"px"},2*c.animSpeed, "",function(){i.css({left:"0px",right:""});a.trigger("nivo:animFinished")});else if("boxRandom"==c.effect||"boxRandom"==e.randAnim){s(a,c,e);var l=c.boxCols*c.boxRows,j=f=0,g=q(b(".nivo-box",a));g.each(function(){var g=b(this);f==l-1?setTimeout(function(){g.animate({opacity:"1"},c.animSpeed,"",function(){a.trigger("nivo:animFinished")})},100+j):setTimeout(function(){g.animate({opacity:"1"},c.animSpeed)},100+j);j+=20;f++})}else if("boxRain"==c.effect||"boxRain"==e.randAnim||"boxRainReverse"==c.effect|| "boxRainReverse"==e.randAnim||"boxRainGrow"==c.effect||"boxRainGrow"==e.randAnim||"boxRainGrowReverse"==c.effect||"boxRainGrowReverse"==e.randAnim){s(a,c,e);var l=c.boxCols*c.boxRows,m=j=f=0,k=0,n=[];n[m]=[];g=b(".nivo-box",a);if("boxRainReverse"==c.effect||"boxRainReverse"==e.randAnim||"boxRainGrowReverse"==c.effect||"boxRainGrowReverse"==e.randAnim)g=b(".nivo-box",a)._reverse();g.each(function(){n[m][k]=b(this);k++;k==c.boxCols&&(m++,k=0,n[m]=[])});for(g=0;g<2*c.boxCols;g++){for(var d=g,x=0;x<c.boxRows;x++)0<= d&&d<c.boxCols&&(function(g,d,j,q,f){var p=b(n[g][d]),h=p.width(),z=p.height();("boxRainGrow"==c.effect||"boxRainGrow"==e.randAnim||"boxRainGrowReverse"==c.effect||"boxRainGrowReverse"==e.randAnim)&&p.width(0).height(0);q==f-1?setTimeout(function(){p.animate({opacity:"1",width:h,height:z},c.animSpeed/1.3,"",function(){a.trigger("nivo:animFinished")})},100+j):setTimeout(function(){p.animate({opacity:"1",width:h,height:z},c.animSpeed/1.3)},100+j)}(x,d,j,f,l),f++),d--;j+=100}}},q=function(a){for(var b, g,c=a.length;c;b=parseInt(Math.random()*c),g=a[--c],a[c]=a[b],a[b]=g);return a},j=function(a){this.console&&"undefined"!=typeof console.log&&console.log(a)};this.stop=function(){if(!b(a).data("nivo:vars").stop)b(a).data("nivo:vars").stop=!0,j("Stop Slider")};this.start=function(){if(b(a).data("nivo:vars").stop)b(a).data("nivo:vars").stop=!1,j("Start Slider")};d.afterLoad.call(this);return this};b.fn.nivoSlider=function(e){return this.each(function(){var c=b(this);if(c.data("nivoslider"))return c.data("nivoslider"); var d=new a(this,e);c.data("nivoslider",d)})};b.fn.nivoSlider.defaults={effect:"fade",slices:15,boxCols:8,boxRows:4,animSpeed:600,pauseTime:6E3,startSlide:0,directionNav:!1,directionNavHide:!0,controlNav:!0,controlNavThumbs:!1,controlNavThumbsFromRel:!1,controlNavThumbsSearch:".jpg",controlNavThumbsReplace:"_thumb.jpg",keyboardNav:!0,pauseOnHover:!0,manualAdvance:!1,captionOpacity:0.8,prevText:"Prev",nextText:"Next",beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){}, afterLoad:function(){}};b.fn._reverse=[].reverse})(jQuery); (function(b,a,e){function c(a){return a.charAt(0).toUpperCase()+a.slice(1)}function d(a){var b=document.documentElement.style,e;if("string"===typeof b[a])return a;for(var a=c(a),d=0,p=f.length;d<p;d++)if(e=f[d]+a,"string"===typeof b[e])return e}var f="Moz Webkit Khtml O Ms".split(" "),h=d("transform"),i={csstransforms:function(){return!!h},csstransforms3d:function(){var b=!!d("perspective");if(b){var b="@media ("+" -o- -moz- -ms- -webkit- -khtml- ".split(" ").join("transform-3d),(")+"modernizr)", c=a("<style>"+b+"{#modernizr{height:3px}}</style>").appendTo("head"),e=a('<div id="modernizr" />').appendTo("html"),b=3===e.height();e.remove();c.remove()}return b},csstransitions:function(){return!!d("transitionProperty")}};if(b.Modernizr)for(var r in i)Modernizr.hasOwnProperty(r)||Modernizr.addTest(r,i[r]);else b.Modernizr=function(){var b={_version:"1.6ish: miniModernizr for Isotope"},c=" ",e,d;for(d in i)e=i[d](),b[d]=e,c+=" "+(e?"":"no-")+d;a("html").addClass(c);return b}();if(Modernizr.csstransforms){var k= Modernizr.csstransforms3d?{translate:function(a){return"translate3d("+a[0]+"px, "+a[1]+"px, 0) "},scale:function(a){return"scale3d("+a+", "+a+", 1) "}}:{translate:function(a){return"translate("+a[0]+"px, "+a[1]+"px) "},scale:function(a){return"scale("+a+") "}},m=function(b,c,e){var d=a.data(b,"isoTransform")||{},f={},i,l={};f[c]=e;a.extend(d,f);for(i in d)c=d[i],l[i]=k[i](c);i=(l.translate||"")+(l.scale||"");a.data(b,"isoTransform",d);b.style[h]=i};a.cssNumber.scale=!0;a.cssHooks.scale={set:function(a, b){m(a,"scale",b)},get:function(b){return(b=a.data(b,"isoTransform"))&&b.scale?b.scale:1}};a.fx.step.scale=function(b){a.cssHooks.scale.set(b.elem,b.now+b.unit)};a.cssNumber.translate=!0;a.cssHooks.translate={set:function(a,b){m(a,"translate",b)},get:function(b){return(b=a.data(b,"isoTransform"))&&b.translate?b.translate:[0,0]}}}var l=a.event,n;l.special.smartresize={setup:function(){a(this).bind("resize",l.special.smartresize.handler)},teardown:function(){a(this).unbind("resize",l.special.smartresize.handler)}, handler:function(a,b){var c=this,e=arguments;a.type="smartresize";n&&clearTimeout(n);n=setTimeout(function(){jQuery.event.handle.apply(c,e)},"execAsap"===b?0:100)}};a.fn.smartresize=function(a){return a?this.bind("smartresize",a):this.trigger("smartresize",["execAsap"])};a.Isotope=function(b,c){this.element=a(c);this._create(b);this._init()};var o=["overflow","position","width","height"];a.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden", hiddenStyle:Modernizr.csstransforms&&!a.browser.opera?{opacity:0,scale:0.001}:{opacity:0},visibleStyle:Modernizr.csstransforms&&!a.browser.opera?{opacity:1,scale:1}:{opacity:1},animationEngine:a.browser.opera?"jquery":"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1};a.Isotope.prototype={_create:function(c){this.options=a.extend({},a.Isotope.settings,c);this.styleQueue=[];this.elemCount= 0;c=this.element[0].style;this.originalStyle={};for(var e=0,d=o.length;e<d;e++){var f=o[e];this.originalStyle[f]=c[f]||""}this.element.css({overflow:"hidden",position:"relative"});this._updateAnimationEngine();this._updateUsingTransforms();this.options.getSortData=a.extend(this.options.getSortData,{"original-order":function(a,b){b.elemCount++;return b.elemCount},random:function(){return Math.random()}});this.reloadItems();c=a(document.createElement("div")).prependTo(this.element);this.offset=c.position(); c.remove();var h=this;setTimeout(function(){h.element.addClass(h.options.containerClass)},0);this.options.resizable&&a(b).bind("smartresize.isotope",function(){h.resize()});this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(a){var b=this.options.itemSelector,a=b?a.filter(b).add(a.find(b)):a,b={position:"absolute"};if(this.usingTransforms)b.left=0,b.top=0;a.css(b).addClass(this.options.itemClass);this.updateSortData(a,!0);return a},_init:function(a){this.$filteredAtoms= this._filter(this.$allAtoms);this._sort();this.reLayout(a)},option:function(b){if(a.isPlainObject(b)){this.options=a.extend(!0,this.options,b);var e,d;for(d in b)if(e="_update"+c(d),this[e])this[e]()}},_updateAnimationEngine:function(){switch(this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,"")){case "css":case "none":this.isUsingJQueryAnimation=!1;break;case "jquery":this.isUsingJQueryAnimation=!0;break;default:this.isUsingJQueryAnimation=!Modernizr.csstransitions}this._updateUsingTransforms()}, _updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){this.getPositionStyles=(this.usingTransforms=this.options.transformsEnabled&&Modernizr.csstransforms&&Modernizr.csstransitions&&!this.isUsingJQueryAnimation)?this._translate:this._positionAbs},_filter:function(a){var b=""===this.options.filter?"*":this.options.filter;if(!b)return a;var c=this.options.hiddenClass,e="."+c,d=a.filter(e),f=d;"*"!==b&&(f=d.filter(b),this.styleQueue.push({$el:a.not(e).not(b).addClass(c), style:this.options.hiddenStyle}));this.styleQueue.push({$el:f,style:this.options.visibleStyle});f.removeClass(c);return a.filter(b)},updateSortData:function(b,c){var e=this,d=this.options.getSortData,f,h;b.each(function(){f=a(this);h={};for(var b in d)h[b]=!c&&"original-order"===b?a.data(this,"isotope-sort-data")[b]:d[b](f,e);a.data(this,"isotope-sort-data",h)})},_sort:function(){var a=this.options.sortBy,b=this._getSorter,c=this.options.sortAscending?1:-1;this.$filteredAtoms.sort(function(e,d){var f= b(e,a),h=b(d,a);f===h&&"original-order"!==a&&(f=b(e,"original-order"),h=b(d,"original-order"));return(f>h?1:f<h?-1:0)*c})},_getSorter:function(b,c){return a.data(b,"isotope-sort-data")[c]},_translate:function(a,b){return{translate:[a,b]}},_positionAbs:function(a,b){return{left:a,top:b}},_pushPosition:function(a,b,c){var b=b+this.offset.left,c=c+this.offset.top,e=this.getPositionStyles(b,c);this.styleQueue.push({$el:a,style:e});this.options.itemPositionDataEnabled&&a.data("isotope-item-position",{x:b, y:c})},layout:function(a,b){var c=this.options.layoutMode;this["_"+c+"Layout"](a);this.options.resizesContainer&&this.styleQueue.push({$el:this.element,style:this["_"+c+"GetContainerSize"]()});this._processStyleQueue();b&&b.call(a);this.isLaidOut=!0},_processStyleQueue:function(){var b=!this.isLaidOut?"css":this.isUsingJQueryAnimation?"animate":"css",c=this.options.animationOptions,e=this._isInserting&&this.isUsingJQueryAnimation,d;a.each(this.styleQueue,function(a,f){d=e&&f.$el.hasClass("no-transition")? "css":b;f.$el[d](f.style,c)});this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(a){this["_"+this.options.layoutMode+"Reset"]();this.layout(this.$filteredAtoms,a)},addItems:function(a,b){var c=this._getAtoms(a);this.$allAtoms=this.$allAtoms.add(c);b&&b(c)},insert:function(a,b){this.element.append(a);var c=this;this.addItems(a,function(a){a=c._filter(a,!0);c._addHideAppended(a);c._sort();c.reLayout();c._revealAppended(a,b)})}, appended:function(a,b){var c=this;this.addItems(a,function(a){c._addHideAppended(a);c.layout(a);c._revealAppended(a,b)})},_addHideAppended:function(a){this.$filteredAtoms=this.$filteredAtoms.add(a);a.addClass("no-transition");this._isInserting=!0;this.styleQueue.push({$el:a,style:this.options.hiddenStyle})},_revealAppended:function(a,b){var c=this;setTimeout(function(){a.removeClass("no-transition");c.styleQueue.push({$el:a,style:c.options.visibleStyle});c._processStyleQueue();delete c._isInserting; b&&b(a)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(a){this.$allAtoms=this.$allAtoms.not(a);this.$filteredAtoms=this.$filteredAtoms.not(a);a.remove()},shuffle:function(){this.updateSortData(this.$allAtoms);this.options.sortBy="random";this._sort();this.reLayout()},destroy:function(){var c=this.usingTransforms;this.$allAtoms.removeClass(this.options.hiddenClass+" "+this.options.itemClass).each(function(){this.style.position="";this.style.top= "";this.style.left="";this.style.opacity="";c&&(this.style[h]="")});for(var e=this.element[0].style,d=0,f=o.length;d<f;d++){var p=o[d];e[p]=this.originalStyle[p]}this.element.unbind(".isotope").undelegate("."+this.options.hiddenClass,"click").removeClass(this.options.containerClass).removeData("isotope");a(b).unbind(".isotope")},_getSegments:function(a){var b=this.options.layoutMode,e=a?"rowHeight":"columnWidth",d=a?"height":"width",a=a?"rows":"cols",f=this.element[d](),d=this.options[b]&&this.options[b][e]|| this.$filteredAtoms["outer"+c(d)](!0)||f,f=Math.floor(f/d),f=Math.max(f,1);this[b][a]=f;this[b][e]=d},_checkIfSegmentsChanged:function(a){var b=this.options.layoutMode,c=a?"rows":"cols",e=this[b][c];this._getSegments(a);return this[b][c]!==e},_masonryReset:function(){this.masonry={};this._getSegments();var a=this.masonry.cols;for(this.masonry.colYs=[];a--;)this.masonry.colYs.push(0)},_masonryLayout:function(b){var c=this,e=c.masonry;b.each(function(){var b=a(this),d=Math.ceil(b.outerWidth(!0)/e.columnWidth), d=Math.min(d,e.cols);if(1===d)c._masonryPlaceBrick(b,e.colYs);else{var f=e.cols+1-d,g=[],h,i;for(i=0;i<f;i++)h=e.colYs.slice(i,i+d),g[i]=Math.max.apply(Math,h);c._masonryPlaceBrick(b,g)}})},_masonryPlaceBrick:function(a,b){for(var c=Math.min.apply(Math,b),e=0,d=0,f=b.length;d<f;d++)if(b[d]===c){e=d;break}this._pushPosition(a,this.masonry.columnWidth*e,c);c+=a.outerHeight(!0);f=this.masonry.cols+1-f;for(d=0;d<f;d++)this.masonry.colYs[e+d]=c},_masonryGetContainerSize:function(){return{height:Math.max.apply(Math, this.masonry.colYs)}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(b){var c=this,e=this.element.width(),d=this.fitRows;b.each(function(){var b=a(this),f=b.outerWidth(!0),g=b.outerHeight(!0);if(0!==d.x&&f+d.x>e)d.x=0,d.y=d.height;c._pushPosition(b,d.x,d.y);d.height=Math.max(d.y+g,d.height);d.x+=f})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0}, _cellsByRowReset:function(){this.cellsByRow={index:0};this._getSegments();this._getSegments(!0)},_cellsByRowLayout:function(b){var c=this,e=this.cellsByRow;b.each(function(){var b=a(this),d=~~(e.index/e.cols),f=(e.index%e.cols+0.5)*e.columnWidth-b.outerWidth(!0)/2,d=(d+0.5)*e.rowHeight-b.outerHeight(!0)/2;c._pushPosition(b,f,d);e.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()}, _straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(b){var c=this;b.each(function(){var b=a(this);c._pushPosition(b,0,c.straightDown.y);c.straightDown.y+=b.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={};this._getSegments(!0);var a=this.masonryHorizontal.rows;for(this.masonryHorizontal.rowXs=[];a--;)this.masonryHorizontal.rowXs.push(0)}, _masonryHorizontalLayout:function(b){var c=this,e=c.masonryHorizontal;b.each(function(){var b=a(this),d=Math.ceil(b.outerHeight(!0)/e.rowHeight),d=Math.min(d,e.rows);if(1===d)c._masonryHorizontalPlaceBrick(b,e.rowXs);else{var f=e.rows+1-d,g=[],h,i;for(i=0;i<f;i++)h=e.rowXs.slice(i,i+d),g[i]=Math.max.apply(Math,h);c._masonryHorizontalPlaceBrick(b,g)}})},_masonryHorizontalPlaceBrick:function(a,b){for(var c=Math.min.apply(Math,b),e=0,d=0,f=b.length;d<f;d++)if(b[d]===c){e=d;break}this._pushPosition(a, c,this.masonryHorizontal.rowHeight*e);c+=a.outerWidth(!0);f=this.masonryHorizontal.rows+1-f;for(d=0;d<f;d++)this.masonryHorizontal.rowXs[e+d]=c},_masonryHorizontalGetContainerSize:function(){return{width:Math.max.apply(Math,this.masonryHorizontal.rowXs)}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(b){var c=this,e=this.element.height(),d=this.fitColumns;b.each(function(){var b= a(this),f=b.outerWidth(!0),g=b.outerHeight(!0);if(0!==d.y&&g+d.y>e)d.x=d.width,d.y=0;c._pushPosition(b,d.x,d.y);d.width=Math.max(d.x+f,d.width);d.y+=g})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0};this._getSegments();this._getSegments(!0)},_cellsByColumnLayout:function(b){var c=this,d=this.cellsByColumn;b.each(function(){var b=a(this),e=d.index%d.rows,f=(~~(d.index/ d.rows)+0.5)*d.columnWidth-b.outerWidth(!0)/2,e=(e+0.5)*d.rowHeight-b.outerHeight(!0)/2;c._pushPosition(b,f,e);d.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(b){var c=this;b.each(function(){var b=a(this);c._pushPosition(b, c.straightAcross.x,0);c.straightAcross.x+=b.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}};a.fn.imagesLoaded=function(a){function b(){a.call(d,f)}function c(){0>=--h&&this.src!==i&&(setTimeout(b),f.unbind("load error",c))}var d=this,f=d.find("img").add(d.filter("img")),h=f.length,i="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";h||b();f.bind("load error",c).each(function(){if(this.complete|| this.complete===e){var a=this.src;this.src=i;this.src=a}});return d};var s=function(a){this.console&&console.error(a)};a.fn.isotope=function(b){if("string"===typeof b){var c=Array.prototype.slice.call(arguments,1);this.each(function(){var d=a.data(this,"isotope");d?!a.isFunction(d[b])||"_"===b.charAt(0)?s("no such method '"+b+"' for isotope instance"):d[b].apply(d,c):s("cannot call methods on isotope prior to initialization; attempted to call method '"+b+"'")})}else this.each(function(){var c=a.data(this, "isotope");c?(c.option(b),c._init()):a.data(this,"isotope",new a.Isotope(b,this))});return this}})(window,jQuery); "function"!==typeof getTwitters&&function(){var b={},a=0;(function(a,b){function d(a){for(m=1;a=f.shift();)a()}var f=[],h,i,r=b.documentElement,k=r.doScroll,m=/^loade|c/.test(b.readyState);b.addEventListener&&b.addEventListener("DOMContentLoaded",i=function(){b.removeEventListener("DOMContentLoaded",i,!1);d()},!1);k&&b.attachEvent("onreadystatechange",h=function(){/^c/.test(b.readyState)&&(b.detachEvent("onreadystatechange",h),d())});a.domReady=k?function(a){self!=top?m?a():f.push(a):function(){try{r.doScroll("left")}catch(b){return setTimeout(function(){domReady(a)}, 50)}a()}()}:function(a){m?a():f.push(a)}})(b,document);window.getTwitters=function(e,c,d,f){a++;if("object"==typeof c)f=c,c=f.id,d=f.count;d||(d=1);f?f.count=d:f={};if(!f.timeout&&"function"==typeof f.onTimeout)f.timeout=10;if("undefined"==typeof f.clearContents)f.clearContents=!0;f.twitterTarget=e;if("undefined"==typeof f.enableLinks)f.enableLinks=!0;b.domReady(function(a,b){return function(){function e(b){a.enableLinks?twitterlib.ify.clean(twitterlib.expandLinks(b)):twitterlib.expandLinks(b);var c; c=""+('<span className="twitterStatus">'+twitterlib.time.relative(b.created_at)+"</span> ");c+='<span className="twitterTime">'+b.text+"</span>";a.newwindow&&(c=c.replace(/<a href/gi,'<a target="_blank" href'));return c}function f(){a.target=document.getElementById(a.twitterTarget);if(a.target){var k={limit:d};if(k.includeRT)k.include_rts=!0;a.timeout&&(window["twitterTimeout"+b]=setTimeout(function(){twitterlib.cancel();a.onTimeout.call(a.target)},1E3*a.timeout));var l="timeline";0===c.indexOf("#")&& (l="search");-1!==c.indexOf("/")&&(l="list");if(a.ignoreReplies)k.filter="-@";twitterlib.cache(!0);twitterlib[l](c,k,function(b){for(var c=[],d=b.length>a.count?a.count:b.length,c=["<ul>"],f=0;f<d;f++){b[f].time=twitterlib.time.relative(b[f].created_at);for(var i in b[f].user)b[f]["user_"+i]=b[f].user[i];a.template?c.push("<li>"+a.template.replace(/%([a-z_\-\.]*)%/ig,function(c,d){var e=b[f][d]+""||"";"text"==d&&(e=twitterlib.expandLinks(b[f]));"text"==d&&a.enableLinks&&(e=twitterlib.ify.clean(e)); return e})+"</li>"):a.bigTemplate?c.push(twitterlib.render(b[f])):c.push(e(b[f]))}c.push("</ul>");a.target.innerHTML=a.clearContents?c.join(""):a.target.innerHTML+c.join("");a.callback&&a.callback(b)})}}"function"!==typeof twitterlib?setTimeout(function(){var a=document.createElement("script");a.onload=a.onreadystatechange=f;a.src="https://github.com/remy/twitterlib/raw/master/twitterlib.min.js";var b=document.head||document.getElementsByTagName("head")[0];b.insertBefore(a,b.firstChild)},0):f()}}(f, a))}}(); var ify=function(){return{link:function(b){return b.replace(/[a-z]+:\/\/[a-z0-9-_]+\.[a-z0-9-_@:~%&\?\+#\/.=]+[^:\.,\)\s*$]/ig,function(a){return'<a href="'+a+'">'+(25<a.length?a.substr(0,24)+"...":a)+"</a>"})},at:function(b){return b.replace(/(^|[^\w]+)\@([a-zA-Z0-9_]{1,15}(\/[a-zA-Z0-9-_]+)*)/g,function(a,b,c){return b+'@<a href="http://twitter.com/'+c+'">'+c+"</a>"})},hash:function(b){return b.replace(/(^|[^&\w'"]+)\#([a-zA-Z0-9_]+)/g,function(a,b,c){return b+'#<a href="http://search.twitter.com/search?q=%23'+c+ '">'+c+"</a>"})},clean:function(b){return this.hash(this.at(this.link(b)))}}}(); (function(b){function a(){url=location.href;return hashtag=-1!=url.indexOf("#!")?decodeURI(url.substring(url.indexOf("#!")+2,url.length)):!1}function e(a,b){var a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),e=RegExp("[\\?&]"+a+"=([^&#]*)").exec(b);return null==e?"":e[1]}b.prettyPhoto={version:"3.1.3"};b.fn.prettyPhoto=function(c){function d(){b(".pp_loaderIcon").hide();projectedTop=scroll_pos.scrollTop+(t/2-g.containerHeight/2);0>projectedTop&&(projectedTop=0);$ppt.fadeTo(settings.animation_speed, 1);$pp_pic_holder.find(".pp_content").animate({height:g.contentHeight,width:g.contentWidth},settings.animation_speed);$pp_pic_holder.animate({top:projectedTop,left:u/2-g.containerWidth/2,width:g.containerWidth},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(g.height).width(g.width);$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed);isSet&&"image"==k(pp_images[set_position])?$pp_pic_holder.find(".pp_hoverContainer").show():$pp_pic_holder.find(".pp_hoverContainer").hide(); g.resized?b("a.pp_expand,a.pp_contract").show():b("a.pp_expand").hide();settings.autoplay_slideshow&&!w&&!q&&b.prettyPhoto.startSlideshow();settings.changepicturecallback();q=!0});isSet&&settings.overlay_gallery&&"image"==k(pp_images[set_position])&&settings.ie6_fallback&&!(b.browser.msie&&6==parseInt(b.browser.version))?(itemWidth=57,navWidth="facebook"==settings.theme||"pp_default"==settings.theme?50:30,itemsPerPage=Math.floor((g.containerWidth-100-navWidth)/itemWidth),itemsPerPage=itemsPerPage< pp_images.length?itemsPerPage:pp_images.length,totalPage=Math.ceil(pp_images.length/itemsPerPage)-1,0==totalPage?(navWidth=0,$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()):$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show(),galleryWidth=itemsPerPage*itemWidth,fullGalleryWidth=pp_images.length*itemWidth,$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected"), goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage,b.prettyPhoto.changeGalleryPage(goToPage),$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")):$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}function f(a){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden");$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){b(".pp_loaderIcon").show();a()})}function h(a){1< a?b(".pp_nav").show():b(".pp_nav").hide()}function i(a,b){resized=!1;r(a,b);imageWidth=a;imageHeight=b;if((v>u||p>t)&&doresize&&settings.allow_resize&&!s){for(resized=!0,fitting=!1;!fitting;)v>u?(imageWidth=u-200,imageHeight=b/a*imageWidth):p>t?(imageHeight=t-200,imageWidth=a/b*imageHeight):fitting=!0,p=imageHeight,v=imageWidth;r(imageWidth,imageHeight);(v>u||p>t)&&i(v,p)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(p),containerWidth:Math.floor(v)+ 2*settings.horizontal_padding,contentHeight:Math.floor(j),contentWidth:Math.floor(y),resized:resized}}function r(a,c){a=parseFloat(a);c=parseFloat(c);$pp_details=$pp_pic_holder.find(".pp_details");$pp_details.width(a);detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom"));$pp_details=$pp_details.clone().addClass(settings.theme).width(a).appendTo(b("body")).css({position:"absolute",top:-1E4});detailsHeight+=$pp_details.height();detailsHeight=34>=detailsHeight? 36:detailsHeight;b.browser.msie&&7==b.browser.version&&(detailsHeight+=8);$pp_details.remove();$pp_title=$pp_pic_holder.find(".ppt");$pp_title.width(a);titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom"));$pp_title=$pp_title.clone().appendTo(b("body")).css({position:"absolute",top:-1E4});titleHeight+=$pp_title.height();$pp_title.remove();j=c+detailsHeight;y=a;p=j+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height(); v=a}function k(a){return a.match(/youtube\.com\/watch/i)||a.match(/youtu\.be/i)?"youtube":a.match(/vimeo\.com/i)?"vimeo":a.match(/\b.mov\b/i)?"quicktime":a.match(/\b.swf\b/i)?"flash":a.match(/\biframe=true\b/i)?"iframe":a.match(/\bajax=true\b/i)?"ajax":a.match(/\bcustom=true\b/i)?"custom":"#"==a.substr(0,1)?"inline":"image"}function m(){doresize&&"undefined"!=typeof $pp_pic_holder&&(scroll_pos=l(),contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width(),projectedTop=t/2+scroll_pos.scrollTop- contentHeight/2,0>projectedTop&&(projectedTop=0),contentHeight>t||$pp_pic_holder.css({top:projectedTop,left:u/2+scroll_pos.scrollLeft-contentwidth/2}))}function l(){if(self.pageYOffset)return{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset};if(document.documentElement&&document.documentElement.scrollTop)return{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft};if(document.body)return{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}} function n(){settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href)));settings.markup=settings.markup.replace("{pp_social}",settings.social_tools?facebook_like_link:"");b("body").append(settings.markup);$pp_pic_holder=b(".pp_pic_holder");$ppt=b(".ppt");$pp_overlay=b("div.pp_overlay");if(isSet&&settings.overlay_gallery){currentGalleryPage=0;toInject="";for(var a=0;a<pp_images.length;a++)pp_images[a].match(/\b(jpg|jpeg|png|gif)\b/gi)? (classname="",img_src=pp_images[a]):(classname="default",img_src=""),toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>";toInject=settings.gallery_markup.replace(/{gallery}/g,toInject);$pp_pic_holder.find("#pp_full_res").after(toInject);$pp_gallery=b(".pp_pic_holder .pp_gallery");$pp_gallery_li=$pp_gallery.find("li");$pp_gallery.find(".pp_arrow_next").click(function(){b.prettyPhoto.changeGalleryPage("next");b.prettyPhoto.stopSlideshow();return!1}); $pp_gallery.find(".pp_arrow_previous").click(function(){b.prettyPhoto.changeGalleryPage("previous");b.prettyPhoto.stopSlideshow();return!1});$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()});itemWidth=57;$pp_gallery_li.each(function(a){b(this).find("a").click(function(){b.prettyPhoto.changePage(a);b.prettyPhoto.stopSlideshow();return!1})})}settings.slideshow&&($pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>'), $pp_pic_holder.find(".pp_nav .pp_play").click(function(){b.prettyPhoto.startSlideshow();return!1}));$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme);$pp_overlay.css({opacity:0,height:b(document).height(),width:b(window).width()}).bind("click",function(){settings.modal||b.prettyPhoto.close()});b("a.pp_close").bind("click",function(){b.prettyPhoto.close();return!1});b("a.pp_expand").bind("click",function(){b(this).hasClass("pp_expand")?(b(this).removeClass("pp_expand").addClass("pp_contract"), doresize=!1):(b(this).removeClass("pp_contract").addClass("pp_expand"),doresize=!0);f(function(){b.prettyPhoto.open()});return!1});$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){b.prettyPhoto.changePage("previous");b.prettyPhoto.stopSlideshow();return!1});$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){b.prettyPhoto.changePage("next");b.prettyPhoto.stopSlideshow();return!1});m()}var c=jQuery.extend({animation_speed:"fast",slideshow:5E3, autoplay_slideshow:!1,opacity:1,show_title:!1,allow_resize:!0,default_width:500,default_height:344,counter_separator_label:"/",theme:"light_square",horizontal_padding:20,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!0,overlay_gallery:!1,keyboard_shortcuts:!0,changepicturecallback:function(){},callback:function(){},ie6_fallback:!0,markup:'<div class="pp_pic_holder"> <div class="ppt">&nbsp;</div> <div class="pp_top"> <div class="pp_left"></div> <div class="pp_middle"></div> <div class="pp_right"></div> </div> <div class="pp_content_container"> <div class="pp_left"> <div class="pp_right"> <div class="pp_content"> <div class="pp_loaderIcon"></div> <div class="pp_fade"> <div class="pp_hoverContainer"> <a class="pp_next" href="#">next</a> <a class="pp_previous" href="#">previous</a> </div> <div id="pp_full_res"></div> <div class="pp_details"> <div class="pp_nav"> <a href="#" class="pp_arrow_previous">Previous</a> <p class="currentTextHolder">0/0</p> <a href="#" class="pp_arrow_next">Next</a> </div> <p class="pp_description"></p> <div class="pp_social">{pp_social}</div> <a class="pp_close" href="#">Close</a> </div> </div> </div> </div> </div> </div> <div class="pp_bottom"> <div class="pp_left"></div> <div class="pp_middle"></div> <div class="pp_right"></div> </div> </div> <div class="pp_overlay"></div>', gallery_markup:'<div class="pp_gallery"> <a href="#" class="pp_arrow_previous">Previous</a> <div> <ul> {gallery} </ul> </div> <a href="#" class="pp_arrow_next">Next</a> </div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>', quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>', inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:""},c),o=this,s=!1,g,q,j,y,p,v,t=b(window).height(),u=b(window).width(),w;doresize=!0;scroll_pos=l();b(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){m();t=b(window).height();u=b(window).width();"undefined"!=typeof $pp_overlay&&$pp_overlay.height(b(document).height()).width(u)});c.keyboard_shortcuts&&b(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(a){if("undefined"!= typeof $pp_pic_holder&&$pp_pic_holder.is(":visible"))switch(a.keyCode){case 37:b.prettyPhoto.changePage("previous");a.preventDefault();break;case 39:b.prettyPhoto.changePage("next");a.preventDefault();break;case 27:settings.modal||b.prettyPhoto.close(),a.preventDefault()}});b.prettyPhoto.initialize=function(){settings=c;if("pp_default"==settings.theme)settings.horizontal_padding=16;if(settings.ie6_fallback&&b.browser.msie&&6==parseInt(b.browser.version))settings.theme="light_square";theRel=b(this).attr("rel"); galleryRegExp=/\[(?:.*)\]/;pp_images=(isSet=galleryRegExp.exec(theRel)?!0:!1)?jQuery.map(o,function(a){if(-1!=b(a).attr("rel").indexOf(theRel))return b(a).attr("href")}):b.makeArray(b(this).attr("href"));pp_titles=isSet?jQuery.map(o,function(a){if(-1!=b(a).attr("rel").indexOf(theRel))return b(a).find("img").attr("alt")?b(a).find("img").attr("alt"):""}):b.makeArray(b(this).find("img").attr("alt"));pp_descriptions=isSet?jQuery.map(o,function(a){if(-1!=b(a).attr("rel").indexOf(theRel))return b(a).attr("title")? b(a).attr("title"):""}):b.makeArray(b(this).attr("title"));if(30<pp_images.length)settings.overlay_gallery=!1;set_position=jQuery.inArray(b(this).attr("href"),pp_images);rel_index=isSet?set_position:b("a[rel^='"+theRel+"']").index(b(this));n(this);settings.allow_resize&&b(window).bind("scroll.prettyphoto",function(){m()});b.prettyPhoto.open();return!1};b.prettyPhoto.open=function(a,f,j){if("undefined"==typeof settings){settings=c;if(b.browser.msie&&6==b.browser.version)settings.theme="light_square"; pp_images=b.makeArray(a);pp_titles=f?b.makeArray(f):b.makeArray("");pp_descriptions=j?b.makeArray(j):b.makeArray("");isSet=1<pp_images.length?!0:!1;set_position=0;n(a.target)}b.browser.msie&&6==b.browser.version&&b("select").css("visibility","hidden");settings.hideflash&&b("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden");h(b(pp_images).size());b(".pp_loaderIcon").show();if(settings.deeplinking&&"undefined"!=typeof theRel)location.hash="!"+theRel+"/"+rel_index+"/"; settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href)),$pp_pic_holder.find(".pp_social").html(facebook_like_link));$ppt.is(":hidden")&&$ppt.css("opacity",0).show();$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity);$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+b(pp_images).size());""!=pp_descriptions[set_position]?$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position])): $pp_pic_holder.find(".pp_description").hide();movie_width=parseFloat(e("width",pp_images[set_position]))?e("width",pp_images[set_position]):settings.default_width.toString();movie_height=parseFloat(e("height",pp_images[set_position]))?e("height",pp_images[set_position]):settings.default_height.toString();s=!1;-1!=movie_height.indexOf("%")&&(movie_height=parseFloat(b(window).height()*parseFloat(movie_height)/100-150),s=!0);-1!=movie_width.indexOf("%")&&(movie_width=parseFloat(b(window).width()*parseFloat(movie_width)/ 100-150),s=!0);$pp_pic_holder.fadeIn(function(){settings.show_title&&""!=pp_titles[set_position]&&"undefined"!=typeof pp_titles[set_position]?$ppt.html(unescape(pp_titles[set_position])):$ppt.html("&nbsp;");imgPreloader="";skipInjection=!1;switch(k(pp_images[set_position])){case "image":imgPreloader=new Image;nextImage=new Image;if(isSet&&set_position<b(pp_images).size()-1)nextImage.src=pp_images[set_position+1];prevImage=new Image;if(isSet&&pp_images[set_position-1])prevImage.src=pp_images[set_position- 1];$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]);imgPreloader.onload=function(){g=i(imgPreloader.width,imgPreloader.height);d()};imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist.");b.prettyPhoto.close()};imgPreloader.src=pp_images[set_position];break;case "youtube":g=i(movie_width,movie_height);movie_id=e("v",pp_images[set_position]);""==movie_id&&(movie_id=pp_images[set_position].split("youtu.be/"), movie_id=movie_id[1],0<movie_id.indexOf("?")&&(movie_id=movie_id.substr(0,movie_id.indexOf("?"))),0<movie_id.indexOf("&")&&(movie_id=movie_id.substr(0,movie_id.indexOf("&"))));movie="http://www.youtube.com/embed/"+movie_id;e("rel",pp_images[set_position])?movie+="?rel="+e("rel",pp_images[set_position]):movie+="?rel=1";settings.autoplay&&(movie+="&autoplay=1");toInject=settings.iframe_markup.replace(/{width}/g,g.width).replace(/{height}/g,g.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g, movie);break;case "vimeo":g=i(movie_width,movie_height);movie_id=pp_images[set_position];movie="http://player.vimeo.com/video/"+movie_id.match(/http:\/\/(www\.)?vimeo.com\/(\d+)/)[2]+"?title=0&amp;byline=0&amp;portrait=0";settings.autoplay&&(movie+="&autoplay=1;");vimeo_width=g.width+"/embed/?moog_width="+g.width;toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,g.height).replace(/{path}/g,movie);break;case "quicktime":g=i(movie_width,movie_height);g.height+=15;g.contentHeight+= 15;g.containerHeight+=15;toInject=settings.quicktime_markup.replace(/{width}/g,g.width).replace(/{height}/g,g.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case "flash":g=i(movie_width,movie_height);flash_vars=pp_images[set_position];flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length);filename=pp_images[set_position];filename=filename.substring(0,filename.indexOf("?")); toInject=settings.flash_markup.replace(/{width}/g,g.width).replace(/{height}/g,g.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case "iframe":g=i(movie_width,movie_height);frame_url=pp_images[set_position];frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1);toInject=settings.iframe_markup.replace(/{width}/g,g.width).replace(/{height}/g,g.height).replace(/{path}/g,frame_url);break;case "ajax":doresize=!1;g=i(movie_width,movie_height);skipInjection= doresize=!0;b.get(pp_images[set_position],function(a){toInject=settings.inline_markup.replace(/{content}/g,a);$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject;d()});break;case "custom":g=i(movie_width,movie_height);toInject=settings.custom_markup;break;case "inline":myClone=b(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(b("body")).show(),doresize=!1,g=i(b(myClone).width(), b(myClone).height()),doresize=!0,b(myClone).remove(),toInject=settings.inline_markup.replace(/{content}/g,b(pp_images[set_position]).html())}if(!imgPreloader&&!skipInjection)$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,d()});return!1};b.prettyPhoto.changePage=function(a){currentGalleryPage=0;"previous"==a?(set_position--,0>set_position&&(set_position=b(pp_images).size()-1)):"next"==a?(set_position++,set_position>b(pp_images).size()-1&&(set_position=0)):set_position=a;rel_index=set_position; doresize||(doresize=!0);b(".pp_contract").removeClass("pp_contract").addClass("pp_expand");f(function(){b.prettyPhoto.open()})};b.prettyPhoto.changeGalleryPage=function(a){"next"==a?(currentGalleryPage++,currentGalleryPage>totalPage&&(currentGalleryPage=0)):"previous"==a?(currentGalleryPage--,0>currentGalleryPage&&(currentGalleryPage=totalPage)):currentGalleryPage=a;slide_speed="next"==a||"previous"==a?settings.animation_speed:0;slide_to=currentGalleryPage*itemsPerPage*itemWidth;$pp_gallery.find("ul").animate({left:-slide_to}, slide_speed)};b.prettyPhoto.startSlideshow=function(){"undefined"==typeof w?($pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){b.prettyPhoto.stopSlideshow();return!1}),w=setInterval(b.prettyPhoto.startSlideshow,settings.slideshow)):b.prettyPhoto.changePage("next")};b.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){b.prettyPhoto.startSlideshow(); return!1});clearInterval(w);w=void 0};b.prettyPhoto.close=function(){$pp_overlay.is(":animated")||(b.prettyPhoto.stopSlideshow(),$pp_pic_holder.stop().find("object,embed").css("visibility","hidden"),b("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){b(this).remove()}),$pp_overlay.fadeOut(settings.animation_speed,function(){b.browser.msie&&6==b.browser.version&&b("select").css("visibility","visible");settings.hideflash&&b("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility", "visible");b(this).remove();b(window).unbind("scroll.prettyphoto");url=location.href;if(hashtag=url.indexOf("#!prettyPhoto")?!0:!1)location.hash="!prettyPhoto";settings.callback();doresize=!0;q=!1;delete settings}))};!pp_alreadyInitialized&&a()&&(pp_alreadyInitialized=!0,hashRel=hashIndex=a(),hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1),hashRel=hashRel.substring(0,hashRel.indexOf("/")),setTimeout(function(){b("a[rel^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")}, 50));return this.unbind("click.prettyphoto").bind("click.prettyphoto",b.prettyPhoto.initialize)}})(jQuery);var pp_alreadyInitialized=!1; (function(b){function a(a){var c;return a&&a.constructor==Array&&3==a.length?a:(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))?[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]:(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a))?[2.55*parseFloat(c[1]),2.55*parseFloat(c[2]),2.55*parseFloat(c[3])]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a))?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]: (c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]:colors[b.trim(a).toLowerCase()]}b.each("backgroundColor,borderBottomColor,borderLeftColor,borderRightColor,borderTopColor,color,outlineColor".split(","),function(e,c){b.fx.step[c]=function(d){if(0==d.state){var e;e=d.elem;var h=c,i;do{i=b.curCSS(e,h);if(""!=i&&"transparent"!=i||b.nodeName(e,"body"))break;h="backgroundColor"}while(e=e.parentNode);e=a(i);d.start=e;d.end=a(d.end)}d.elem.style[c]= "rgb("+[Math.max(Math.min(parseInt(d.pos*(d.end[0]-d.start[0])+d.start[0]),255),0),Math.max(Math.min(parseInt(d.pos*(d.end[1]-d.start[1])+d.start[1]),255),0),Math.max(Math.min(parseInt(d.pos*(d.end[2]-d.start[2])+d.start[2]),255),0)].join()+")"}})})(jQuery); (function(b){b.fn.hoverFadeColor=function(a){var e={color:null,fadeToSpeed:300,fadeFromSpeed:300};a&&b.extend(e,a);this.each(function(){var a=b(this).css("color"),d=e.color;b(this).hover(function(){hoverElem=this;null==d&&b.browser.msie&&9>b.browser.version.substr(0,1)?setTimeout(function(){null==d&&(d=b(hoverElem).css("color"));b(hoverElem).css("color",a);b(hoverElem).stop().animate({color:d},e.fadeToSpeed)},0):(null==d&&(d=b(hoverElem).css("color")),b(hoverElem).css("color",a),b(hoverElem).stop().animate({color:d}, e.fadeToSpeed))},function(){b(hoverElem).stop().animate({color:a},e.fadeFromSpeed)})});return this}})(jQuery);jQuery.easing.jswing=jQuery.easing.swing; jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(b,a,e,c,d){return jQuery.easing[jQuery.easing.def](b,a,e,c,d)},easeInQuad:function(b,a,e,c,d){return c*(a/=d)*a+e},easeOutQuad:function(b,a,e,c,d){return-c*(a/=d)*(a-2)+e},easeInOutQuad:function(b,a,e,c,d){return 1>(a/=d/2)?c/2*a*a+e:-c/2*(--a*(a-2)-1)+e},easeInCubic:function(b,a,e,c,d){return c*(a/=d)*a*a+e},easeOutCubic:function(b,a,e,c,d){return c*((a=a/d-1)*a*a+1)+e},easeInOutCubic:function(b,a,e,c,d){return 1>(a/=d/2)?c/2*a*a*a+e: c/2*((a-=2)*a*a+2)+e},easeInQuart:function(b,a,e,c,d){return c*(a/=d)*a*a*a+e},easeOutQuart:function(b,a,e,c,d){return-c*((a=a/d-1)*a*a*a-1)+e},easeInOutQuart:function(b,a,e,c,d){return 1>(a/=d/2)?c/2*a*a*a*a+e:-c/2*((a-=2)*a*a*a-2)+e},easeInQuint:function(b,a,e,c,d){return c*(a/=d)*a*a*a*a+e},easeOutQuint:function(b,a,e,c,d){return c*((a=a/d-1)*a*a*a*a+1)+e},easeInOutQuint:function(b,a,e,c,d){return 1>(a/=d/2)?c/2*a*a*a*a*a+e:c/2*((a-=2)*a*a*a*a+2)+e},easeInSine:function(b,a,e,c,d){return-c*Math.cos(a/ d*(Math.PI/2))+c+e},easeOutSine:function(b,a,e,c,d){return c*Math.sin(a/d*(Math.PI/2))+e},easeInOutSine:function(b,a,e,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+e},easeInExpo:function(b,a,e,c,d){return 0==a?e:c*Math.pow(2,10*(a/d-1))+e},easeOutExpo:function(b,a,e,c,d){return a==d?e+c:c*(-Math.pow(2,-10*a/d)+1)+e},easeInOutExpo:function(b,a,e,c,d){return 0==a?e:a==d?e+c:1>(a/=d/2)?c/2*Math.pow(2,10*(a-1))+e:c/2*(-Math.pow(2,-10*--a)+2)+e},easeInCirc:function(b,a,e,c,d){return-c*(Math.sqrt(1-(a/=d)* a)-1)+e},easeOutCirc:function(b,a,e,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+e},easeInOutCirc:function(b,a,e,c,d){return 1>(a/=d/2)?-c/2*(Math.sqrt(1-a*a)-1)+e:c/2*(Math.sqrt(1-(a-=2)*a)+1)+e},easeInElastic:function(b,a,e,c,d){var b=1.70158,f=0,h=c;if(0==a)return e;if(1==(a/=d))return e+c;f||(f=0.3*d);h<Math.abs(c)?(h=c,b=f/4):b=f/(2*Math.PI)*Math.asin(c/h);return-(h*Math.pow(2,10*(a-=1))*Math.sin((a*d-b)*2*Math.PI/f))+e},easeOutElastic:function(b,a,e,c,d){var b=1.70158,f=0,h=c;if(0==a)return e;if(1== (a/=d))return e+c;f||(f=0.3*d);h<Math.abs(c)?(h=c,b=f/4):b=f/(2*Math.PI)*Math.asin(c/h);return h*Math.pow(2,-10*a)*Math.sin((a*d-b)*2*Math.PI/f)+c+e},easeInOutElastic:function(b,a,e,c,d){var b=1.70158,f=0,h=c;if(0==a)return e;if(2==(a/=d/2))return e+c;f||(f=d*0.3*1.5);h<Math.abs(c)?(h=c,b=f/4):b=f/(2*Math.PI)*Math.asin(c/h);return 1>a?-0.5*h*Math.pow(2,10*(a-=1))*Math.sin((a*d-b)*2*Math.PI/f)+e:0.5*h*Math.pow(2,-10*(a-=1))*Math.sin((a*d-b)*2*Math.PI/f)+c+e},easeInBack:function(b,a,e,c,d,f){void 0== f&&(f=1.70158);return c*(a/=d)*a*((f+1)*a-f)+e},easeOutBack:function(b,a,e,c,d,f){void 0==f&&(f=1.70158);return c*((a=a/d-1)*a*((f+1)*a+f)+1)+e},easeInOutBack:function(b,a,e,c,d,f){void 0==f&&(f=1.70158);return 1>(a/=d/2)?c/2*a*a*(((f*=1.525)+1)*a-f)+e:c/2*((a-=2)*a*(((f*=1.525)+1)*a+f)+2)+e},easeInBounce:function(b,a,e,c,d){return c-jQuery.easing.easeOutBounce(b,d-a,0,c,d)+e},easeOutBounce:function(b,a,e,c,d){return(a/=d)<1/2.75?c*7.5625*a*a+e:a<2/2.75?c*(7.5625*(a-=1.5/2.75)*a+0.75)+e:a<2.5/2.75? c*(7.5625*(a-=2.25/2.75)*a+0.9375)+e:c*(7.5625*(a-=2.625/2.75)*a+0.984375)+e},easeInOutBounce:function(b,a,e,c,d){return a<d/2?0.5*jQuery.easing.easeInBounce(b,2*a,0,c,d)+e:0.5*jQuery.easing.easeOutBounce(b,2*a-d,0,c,d)+0.5*c+e}});